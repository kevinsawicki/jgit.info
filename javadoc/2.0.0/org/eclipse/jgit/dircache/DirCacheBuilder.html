<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_21) on Mon Jun 25 17:59:34 EDT 2012 -->
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<TITLE>
DirCacheBuilder (JGit - Core 2.0.0.201206130900-r API)
</TITLE>

<META NAME="date" CONTENT="2012-06-25">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="DirCacheBuilder (JGit - Core 2.0.0.201206130900-r API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

<script type="text/javascript"> 
var _gauges = _gauges || []; 
(function() { 
  var t   = document.createElement('script'); 
  t.type  = 'text/javascript'; 
  t.async = true; 
  t.id    = 'gauges-tracker'; 
  t.setAttribute('data-site-id', '4f18d245844d52260f00000e'); 
  t.src = '//secure.gaug.es/track.js'; 
  var s = document.getElementsByTagName('script')[0]; 
  s.parentNode.insertBefore(t, s); 
})(); 
</script> 
</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/DirCacheBuilder.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../org/eclipse/jgit/dircache/DirCache.html" title="class in org.eclipse.jgit.dircache"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../org/eclipse/jgit/dircache/DirCacheBuildIterator.html" title="class in org.eclipse.jgit.dircache"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?org/eclipse/jgit/dircache/DirCacheBuilder.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="DirCacheBuilder.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.eclipse.jgit.dircache</FONT>
<BR>
Class DirCacheBuilder</H2>
<PRE>
<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</A>
  <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><B>org.eclipse.jgit.dircache.DirCacheBuilder</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>DirCacheBuilder</B><DT>extends <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></DL>
</PRE>

<P>
Updates a <A HREF="../../../../org/eclipse/jgit/dircache/DirCache.html" title="class in org.eclipse.jgit.dircache"><CODE>DirCache</CODE></A> by adding individual <A HREF="../../../../org/eclipse/jgit/dircache/DirCacheEntry.html" title="class in org.eclipse.jgit.dircache"><CODE>DirCacheEntry</CODE></A>s.
 <p>
 A builder always starts from a clean slate and appends in every single
 <code>DirCacheEntry</code> which the final updated index must have to reflect
 its new content.
 <p>
 For maximum performance applications should add entries in path name order.
 Adding entries out of order is permitted, however a final sorting pass will
 be implicitly performed during <A HREF="../../../../org/eclipse/jgit/dircache/DirCacheBuilder.html#finish()"><CODE>finish()</CODE></A> to correct any out-of-order
 entries. Duplicate detection is also delayed until the sorting is complete.
<P>

<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../org/eclipse/jgit/dircache/DirCacheEditor.html" title="class in org.eclipse.jgit.dircache"><CODE>DirCacheEditor</CODE></A></DL>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../org/eclipse/jgit/dircache/DirCache.html" title="class in org.eclipse.jgit.dircache">DirCache</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/eclipse/jgit/dircache/DirCacheBuilder.html#cache">cache</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The cache instance this editor updates during <A HREF="../../../../org/eclipse/jgit/dircache/DirCacheBuilder.html#finish()"><CODE>finish()</CODE></A>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../org/eclipse/jgit/dircache/DirCacheEntry.html" title="class in org.eclipse.jgit.dircache">DirCacheEntry</A>[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/eclipse/jgit/dircache/DirCacheBuilder.html#entries">entries</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Entry table this builder will eventually replace into <A HREF="../../../../org/eclipse/jgit/dircache/DirCacheBuilder.html#cache"><CODE>cache</CODE></A>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/eclipse/jgit/dircache/DirCacheBuilder.html#entryCnt">entryCnt</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Total number of valid entries in <A HREF="../../../../org/eclipse/jgit/dircache/DirCacheBuilder.html#entries"><CODE>entries</CODE></A>.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected </CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/eclipse/jgit/dircache/DirCacheBuilder.html#DirCacheBuilder(org.eclipse.jgit.dircache.DirCache, int)">DirCacheBuilder</A></B>(<A HREF="../../../../org/eclipse/jgit/dircache/DirCache.html" title="class in org.eclipse.jgit.dircache">DirCache</A>&nbsp;dc,
                int&nbsp;ecnt)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Construct a new builder.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/eclipse/jgit/dircache/DirCacheBuilder.html#add(org.eclipse.jgit.dircache.DirCacheEntry)">add</A></B>(<A HREF="../../../../org/eclipse/jgit/dircache/DirCacheEntry.html" title="class in org.eclipse.jgit.dircache">DirCacheEntry</A>&nbsp;newEntry)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Append one entry into the resulting entry list.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/eclipse/jgit/dircache/DirCacheBuilder.html#addTree(byte[], int, org.eclipse.jgit.lib.ObjectReader, org.eclipse.jgit.lib.AnyObjectId)">addTree</A></B>(byte[]&nbsp;pathPrefix,
        int&nbsp;stage,
        <A HREF="../../../../org/eclipse/jgit/lib/ObjectReader.html" title="class in org.eclipse.jgit.lib">ObjectReader</A>&nbsp;reader,
        <A HREF="../../../../org/eclipse/jgit/lib/AnyObjectId.html" title="class in org.eclipse.jgit.lib">AnyObjectId</A>&nbsp;tree)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Recursively add an entire tree into this builder.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/eclipse/jgit/dircache/DirCacheBuilder.html#commit()">commit</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Finish, write, commit this change, and release the index lock.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/eclipse/jgit/dircache/DirCacheBuilder.html#fastAdd(org.eclipse.jgit.dircache.DirCacheEntry)">fastAdd</A></B>(<A HREF="../../../../org/eclipse/jgit/dircache/DirCacheEntry.html" title="class in org.eclipse.jgit.dircache">DirCacheEntry</A>&nbsp;newEntry)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Append one entry into the resulting entry list.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/eclipse/jgit/dircache/DirCacheBuilder.html#fastKeep(int, int)">fastKeep</A></B>(int&nbsp;pos,
         int&nbsp;cnt)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add a range of existing entries from the destination cache.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/eclipse/jgit/dircache/DirCacheBuilder.html#finish()">finish</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Finish this builder and update the destination <A HREF="../../../../org/eclipse/jgit/dircache/DirCache.html" title="class in org.eclipse.jgit.dircache"><CODE>DirCache</CODE></A>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../org/eclipse/jgit/dircache/DirCache.html" title="class in org.eclipse.jgit.dircache">DirCache</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/eclipse/jgit/dircache/DirCacheBuilder.html#getDirCache()">getDirCache</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/eclipse/jgit/dircache/DirCacheBuilder.html#keep(int, int)">keep</A></B>(int&nbsp;pos,
     int&nbsp;cnt)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add a range of existing entries from the destination cache.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/eclipse/jgit/dircache/DirCacheBuilder.html#replace()">replace</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Update the DirCache with the contents of <A HREF="../../../../org/eclipse/jgit/dircache/DirCacheBuilder.html#entries"><CODE>entries</CODE></A>.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.<A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</A>, <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/Object.html?is-external=true#wait(long, int)" title="class or interface in java.lang">wait</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="cache"><!-- --></A><H3>
cache</H3>
<PRE>
protected <A HREF="../../../../org/eclipse/jgit/dircache/DirCache.html" title="class in org.eclipse.jgit.dircache">DirCache</A> <B>cache</B></PRE>
<DL>
<DD>The cache instance this editor updates during <A HREF="../../../../org/eclipse/jgit/dircache/DirCacheBuilder.html#finish()"><CODE>finish()</CODE></A>.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="entries"><!-- --></A><H3>
entries</H3>
<PRE>
protected <A HREF="../../../../org/eclipse/jgit/dircache/DirCacheEntry.html" title="class in org.eclipse.jgit.dircache">DirCacheEntry</A>[] <B>entries</B></PRE>
<DL>
<DD>Entry table this builder will eventually replace into <A HREF="../../../../org/eclipse/jgit/dircache/DirCacheBuilder.html#cache"><CODE>cache</CODE></A>.
 <p>
 Use <A HREF="../../../../org/eclipse/jgit/dircache/DirCacheBuilder.html#fastAdd(org.eclipse.jgit.dircache.DirCacheEntry)"><CODE>fastAdd(DirCacheEntry)</CODE></A> or <A HREF="../../../../org/eclipse/jgit/dircache/DirCacheBuilder.html#fastKeep(int, int)"><CODE>fastKeep(int, int)</CODE></A> to
 make additions to this table. The table is automatically expanded if it
 is too small for a new addition.
 <p>
 Typically the entries in here are sorted by their path names, just like
 they are in the DirCache instance.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="entryCnt"><!-- --></A><H3>
entryCnt</H3>
<PRE>
protected int <B>entryCnt</B></PRE>
<DL>
<DD>Total number of valid entries in <A HREF="../../../../org/eclipse/jgit/dircache/DirCacheBuilder.html#entries"><CODE>entries</CODE></A>.
<P>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="DirCacheBuilder(org.eclipse.jgit.dircache.DirCache, int)"><!-- --></A><H3>
DirCacheBuilder</H3>
<PRE>
protected <B>DirCacheBuilder</B>(<A HREF="../../../../org/eclipse/jgit/dircache/DirCache.html" title="class in org.eclipse.jgit.dircache">DirCache</A>&nbsp;dc,
                          int&nbsp;ecnt)</PRE>
<DL>
<DD>Construct a new builder.
<P>
<DL>
<DT><B>Parameters:</B><DD><CODE>dc</CODE> - the cache this builder will eventually update.<DD><CODE>ecnt</CODE> - estimated number of entries the builder will have upon
            completion. This sizes the initial entry table.</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="add(org.eclipse.jgit.dircache.DirCacheEntry)"><!-- --></A><H3>
add</H3>
<PRE>
public void <B>add</B>(<A HREF="../../../../org/eclipse/jgit/dircache/DirCacheEntry.html" title="class in org.eclipse.jgit.dircache">DirCacheEntry</A>&nbsp;newEntry)</PRE>
<DL>
<DD>Append one entry into the resulting entry list.
 <p>
 The entry is placed at the end of the entry list. If the entry causes the
 list to now be incorrectly sorted a final sorting phase will be
 automatically enabled within <A HREF="../../../../org/eclipse/jgit/dircache/DirCacheBuilder.html#finish()"><CODE>finish()</CODE></A>.
 <p>
 The internal entry table is automatically expanded if there is
 insufficient space for the new addition.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>newEntry</CODE> - the new entry to add.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang">IllegalArgumentException</A></CODE> - If the FileMode of the entry was not set by the caller.</DL>
</DD>
</DL>
<HR>

<A NAME="keep(int, int)"><!-- --></A><H3>
keep</H3>
<PRE>
public void <B>keep</B>(int&nbsp;pos,
                 int&nbsp;cnt)</PRE>
<DL>
<DD>Add a range of existing entries from the destination cache.
 <p>
 The entries are placed at the end of the entry list. If any of the
 entries causes the list to now be incorrectly sorted a final sorting
 phase will be automatically enabled within <A HREF="../../../../org/eclipse/jgit/dircache/DirCacheBuilder.html#finish()"><CODE>finish()</CODE></A>.
 <p>
 This method copies from the destination cache, which has not yet been
 updated with this editor's new table. So all offsets into the destination
 cache are not affected by any updates that may be currently taking place
 in this editor.
 <p>
 The internal entry table is automatically expanded if there is
 insufficient space for the new additions.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pos</CODE> - first entry to copy from the destination cache.<DD><CODE>cnt</CODE> - number of entries to copy.</DL>
</DD>
</DL>
<HR>

<A NAME="addTree(byte[], int, org.eclipse.jgit.lib.ObjectReader, org.eclipse.jgit.lib.AnyObjectId)"><!-- --></A><H3>
addTree</H3>
<PRE>
public void <B>addTree</B>(byte[]&nbsp;pathPrefix,
                    int&nbsp;stage,
                    <A HREF="../../../../org/eclipse/jgit/lib/ObjectReader.html" title="class in org.eclipse.jgit.lib">ObjectReader</A>&nbsp;reader,
                    <A HREF="../../../../org/eclipse/jgit/lib/AnyObjectId.html" title="class in org.eclipse.jgit.lib">AnyObjectId</A>&nbsp;tree)
             throws <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD>Recursively add an entire tree into this builder.
 <p>
 If pathPrefix is "a/b" and the tree contains file "c" then the resulting
 DirCacheEntry will have the path "a/b/c".
 <p>
 All entries are inserted at stage 0, therefore assuming that the
 application will not insert any other paths with the same pathPrefix.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pathPrefix</CODE> - UTF-8 encoded prefix to mount the tree's entries at. If the
            path does not end with '/' one will be automatically inserted
            as necessary.<DD><CODE>stage</CODE> - stage of the entries when adding them.<DD><CODE>reader</CODE> - reader the tree(s) will be read from during recursive
            traversal. This must be the same repository that the resulting
            DirCache would be written out to (or used in) otherwise the
            caller is simply asking for deferred MissingObjectExceptions.
            Caller is responsible for releasing this reader when done.<DD><CODE>tree</CODE> - the tree to recursively add. This tree's contents will appear
            under <code>pathPrefix</code>. The ObjectId must be that of a
            tree; the caller is responsible for dereferencing a tag or
            commit (if necessary).
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE> - a tree cannot be read to iterate through its entries.</DL>
</DD>
</DL>
<HR>

<A NAME="finish()"><!-- --></A><H3>
finish</H3>
<PRE>
public void <B>finish</B>()</PRE>
<DL>
<DD>Finish this builder and update the destination <A HREF="../../../../org/eclipse/jgit/dircache/DirCache.html" title="class in org.eclipse.jgit.dircache"><CODE>DirCache</CODE></A>.
 <p>
 When this method completes this builder instance is no longer usable by
 the calling application. A new builder must be created to make additional
 changes to the index entries.
 <p>
 After completion the DirCache returned by <A HREF="../../../../org/eclipse/jgit/dircache/DirCacheBuilder.html#getDirCache()"><CODE>getDirCache()</CODE></A> will
 contain all modifications.
 <p>
 <i>Note to implementors:</i> Make sure <A HREF="../../../../org/eclipse/jgit/dircache/DirCacheBuilder.html#entries"><CODE>entries</CODE></A> is fully sorted
 then invoke <A HREF="../../../../org/eclipse/jgit/dircache/DirCacheBuilder.html#replace()"><CODE>replace()</CODE></A> to update the DirCache with the new table.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getDirCache()"><!-- --></A><H3>
getDirCache</H3>
<PRE>
public <A HREF="../../../../org/eclipse/jgit/dircache/DirCache.html" title="class in org.eclipse.jgit.dircache">DirCache</A> <B>getDirCache</B>()</PRE>
<DL>
<DD><DL>

<DT><B>Returns:</B><DD>the cache we will update on <A HREF="../../../../org/eclipse/jgit/dircache/DirCacheBuilder.html#finish()"><CODE>finish()</CODE></A>.</DL>
</DD>
</DL>
<HR>

<A NAME="fastAdd(org.eclipse.jgit.dircache.DirCacheEntry)"><!-- --></A><H3>
fastAdd</H3>
<PRE>
protected void <B>fastAdd</B>(<A HREF="../../../../org/eclipse/jgit/dircache/DirCacheEntry.html" title="class in org.eclipse.jgit.dircache">DirCacheEntry</A>&nbsp;newEntry)</PRE>
<DL>
<DD>Append one entry into the resulting entry list.
 <p>
 The entry is placed at the end of the entry list. The caller is
 responsible for making sure the final table is correctly sorted.
 <p>
 The <A HREF="../../../../org/eclipse/jgit/dircache/DirCacheBuilder.html#entries"><CODE>entries</CODE></A> table is automatically expanded if there is
 insufficient space for the new addition.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>newEntry</CODE> - the new entry to add.</DL>
</DD>
</DL>
<HR>

<A NAME="fastKeep(int, int)"><!-- --></A><H3>
fastKeep</H3>
<PRE>
protected void <B>fastKeep</B>(int&nbsp;pos,
                        int&nbsp;cnt)</PRE>
<DL>
<DD>Add a range of existing entries from the destination cache.
 <p>
 The entries are placed at the end of the entry list, preserving their
 current order. The caller is responsible for making sure the final table
 is correctly sorted.
 <p>
 This method copies from the destination cache, which has not yet been
 updated with this editor's new table. So all offsets into the destination
 cache are not affected by any updates that may be currently taking place
 in this editor.
 <p>
 The <A HREF="../../../../org/eclipse/jgit/dircache/DirCacheBuilder.html#entries"><CODE>entries</CODE></A> table is automatically expanded if there is
 insufficient space for the new additions.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pos</CODE> - first entry to copy from the destination cache.<DD><CODE>cnt</CODE> - number of entries to copy.</DL>
</DD>
</DL>
<HR>

<A NAME="replace()"><!-- --></A><H3>
replace</H3>
<PRE>
protected void <B>replace</B>()</PRE>
<DL>
<DD>Update the DirCache with the contents of <A HREF="../../../../org/eclipse/jgit/dircache/DirCacheBuilder.html#entries"><CODE>entries</CODE></A>.
 <p>
 This method should be invoked only during an implementation of
 <A HREF="../../../../org/eclipse/jgit/dircache/DirCacheBuilder.html#finish()"><CODE>finish()</CODE></A>, and only after <A HREF="../../../../org/eclipse/jgit/dircache/DirCacheBuilder.html#entries"><CODE>entries</CODE></A> is sorted.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="commit()"><!-- --></A><H3>
commit</H3>
<PRE>
public boolean <B>commit</B>()
               throws <A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></PRE>
<DL>
<DD>Finish, write, commit this change, and release the index lock.
 <p>
 If this method fails (returns false) the lock is still released.
 <p>
 This is a utility method for applications as the finish-write-commit
 pattern is very common after using a builder to update entries.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>true if the commit was successful and the file contains the new
         data; false if the commit failed and the file remains with the
         old data.
<DT><B>Throws:</B>
<DD><CODE><A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang">IllegalStateException</A></CODE> - the lock is not held.
<DD><CODE><A HREF="http://java.sun.com/j2se/1.5.0/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io">IOException</A></CODE> - the output file could not be created. The caller no longer
             holds the lock.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/DirCacheBuilder.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../org/eclipse/jgit/dircache/DirCache.html" title="class in org.eclipse.jgit.dircache"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../org/eclipse/jgit/dircache/DirCacheBuildIterator.html" title="class in org.eclipse.jgit.dircache"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?org/eclipse/jgit/dircache/DirCacheBuilder.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="DirCacheBuilder.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright &#169; 2012. All Rights Reserved.
</BODY>
</HTML>
